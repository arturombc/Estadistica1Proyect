---
title: <center><span>Minería de Datos en la Industria de Telefonía Móvil<span>:</span> Análisis de clientes peruanos entre febrero y mayo del 2019.</span></center>
format: 
  html:
    toc: true
    toc-depth: 3
    toc-title: Contenido
    anchor_sections: TRUE # Mostrar anclaje de la sección al pasar el mouse
    code_download: TRUE # Permite a los lectores descargar el qmd
    code_folding: TRUE # Permite a los lectores cambiar a none, hide or show
    fig_caption: TRUE # Las imagenes se renderizan con caption
    theme: journal  #superhero cyborg, darkly, journal, vapor. Library "bslib"
    # runtime: shiny # sirve para que la librería shiny interactiva funcione. library("shiny")
    number-sections: true
    embed-resources: true
    author-title: Autores

author: 
  - Arturo Barrantes Chuquimia
  - Sheyla Sanchez Arauco 
  - Andrea Maricielo Pérez Castro 
  - Alejandro Rojas Alvarez
  - Luis David Acedo Lopez
editor: visual
---

```{=html}
<style>
.toggle-content {
  display: none;
}
</style>
```
# [**Introducción**]{style="color:#1FB0DB"}

## **Relevancia**

En el contexto empresarial, analizar una base de datos con información de los clientes puede llegar a ser crucial para el crecimiento de una empresa; así como del uso correcto de los recursos.\
A lo largo de este trabajo, se analizará el comportamiento de los clientes de una empresa de telefonía móvil. El objetivo será encontrar *insights* con el fin de optimizar nuestros esfuerzos hacia el crecimiento empresarial.

## **Objetivos**

### **Objetivo general**

Analizar el comportamiento de la transferencia de datos y llamadas en los clientes peruanos de una empresa de telefonía móvil entre febrero de 2019 y mayo del 2019. Los objetivos están orientados a encontrar posibles _insights_ que nos permitan mejorar el desempeño de la empresa de telefonía móvil.

Las conclusiones de estos objetivos nos permitirán tomar decisiones que puedan resultar en un mejor desempeño general.

### **Objetivos específicos**

1.  Analizar la relación entre el equipo y el tráfico de datos de los usuarios por periodo.
2.  Analizar la duración y la cantidad de llamadas entrantes y salientes a un usuario.
3.  Describir la comunicación del usuario con sus contactos durante el periodo.

## **Planificación**

Después de limpiar los datos iniciales, juntar los datos que nos son relevantes en un único csv. Podemos hacer un análisis más exhaustivo y menos complicado que si fueran en varias tablas. El trabajo se dividirá en el cumplimiento de los 3 objetivos antes presentados. Cada objetivo tendrá su respectiva sección, así como lo que motivó su búsqueda y conclusiones. Finalmente se uniran todas las conclusiones en un capítulo final.

### Librerías y setup

```{r, liberías, message=FALSE}
if (!require(readr)){install.packages(readr);library(readr)}
if (!require(dplyr)){install.packages(dplyr);library(dplyr)}
if (!require(ggplot2)){install.packages(ggplot2);library(ggplot2)}
if(!require(ggthemes)){install.packages(ggthemes);library(ggthemes)}
if(!require(ggrepel)){install.packages(ggrepel);library(ggrepel)}
```

```{r, setup, message=FALSE}
knitr::opts_chunk$set(
  comment = '', fig.width = 15, fig.height = 9
)
```

### Milestones del proyecto

```{mermaid}
flowchart LR
  A[Recolección de datos] --> B(Unión y limpieza de datos)
  B --> C{Objetivos}
  C --> D[Objetivo 1]
  C --> E[Objetivo 2]
  C --> F[Objetivo 3]
  D --> G(Resultado 1)
  E --> H(Resultado 2)
  F --> I(Resultado 3)
  G --> J(Conclusiones finales)
  H --> J
  I --> J
```

### Timeline del proyecto

```{R Timeline, message=FALSE}
data <- read_csv("timeline.csv")
ggplot(data, aes(x = inicio, xend = fin, y = Integrantes, yend = Integrantes, color = actividad)) +
  geom_segment(linewidth = 2, lineend = "round") +
  labs(
    title = 'Timeline de proyecto',
    x = 'Fecha',
    y = 'Participantes'
  ) +
  scale_colour_brewer(palette = "Set1") +
  theme_minimal() +
  theme(
    axis.title = element_text(size = 15),
    axis.text.x = element_text(size = 10),
    legend.position = "top",
    legend.title = element_blank(),
    plot.title = element_text(size = 20, hjust = 0.5)
  )

```



# [**Datos**]{style="color:#1FB0DB"}

## **Recolección**

Los datos utilizados en este análisis fueron recopilados durante el período mencionado de febrero a mayo de 2019. La información se obtuvo de los registros de la empresa de telefonía móvil, que incluye una variedad de variables relacionadas con el equipo, el tráfico de datos, las llamadas y otros aspectos del uso del servicio por parte de los clientes.

## **Población, muestra y muestreo **

- **POBLACIÓN:** Usuarios de telefonía móvil dentro de Perú.
- **MUESTRA:** Clientes de una empresa de telefonía móvil en Perú durante el período de febrero a mayo de 2019. 
    -   **UNIDAD MUESTRAL:** Registro de un cliente en un determinado mes.
    -   **TAMAÑO:** 113779 observaciones.
    -   **REPRESENTATIVIDAD:** Si.
-   **MUESTREO:** Muestreo no aleatorio por conveniencia.


## **Variables**

Las variables con las que contamos son las siguientes:

<button id="toggle-button" onclick="toggleContent()">

Mostrar/Ocultar Contenido

</button>

::: toggle-content
| VARIABLE           | CLASE y TIPO          | RESTRICCION                   | DESCRIPCCION                                                                                                                        |
|--------------------|-----------------------|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| ID1                | Categórica Nominal    | Hash de 44 letras             | Nombre encriptado de la persona                                                                                                     |
| PERIODO            | Categórica Ordinal    | Entre febrero y mayo del 2019 | Periodo de la información                                                                                                           |
| EQUIPO_TEC         | Categórica Ordinal    | 3G, 4G, 5G                    | Tecnología del chip                                                                                                                 |
| EQUIPO_MARCA       | Categórica Nominal    | LG, SAMSUNG, APPLE, etc.      | Marca del equipo                                                                                                                    |
| EQUIPO_MODELO      | Categórica Nominal    | Galaxy J2, iPhone6, etc.      | Modelo del dispositivo                                                                                                              |
| EQUIPO_OS          | Categórica Nominal    | Android, iOS, sin tac, otros. | Tipo de sistema operativo                                                                                                           |
| TRAF_DATOS_4G      | Cuantitativa Continua | Número positivo               | Tráfico de datos 4G en Mb consumidos durante el periodo                                                                             |
| TRAF_DATOS_3G      | Cuantitativa Continua | Número positivo               | Tráfico de datos 3G en Mb consumidos durante el periodo                                                                             |
| TRAF_DATOS_2G      | Cuantitativa Continua | Número positivo               | Tráfico de datos 2G en Mb consumidos durante el periodo                                                                             |
| TRAF_DATOS_TOTAL   | Cuantitativa Continua | Número positivo               | Tráfico de datos Total en Mb consumidos durante el periodo                                                                          |
| TRAF_DURACION_4G   | Cuantitativa Continua | Número positivo               | Trafico de duración 4G consumidos durante el periodo                                                                                |
| TRAF_DURACION_3G   | Cuantitativa Continua | Número positivo               | Trafico de duración 3G consumidos durante el periodo                                                                                |
| TRAF_DURACION_2G   | Cuantitativa Continua | Número positivo               | Trafico de duración 2G durante el periodo                                                                                           |
| DEPARTAMENTO_XDR   | Categória Nominal     | LIMA, HUÁNUCO, PIURA, etc.    | Departamento en el cuál se consumió mayor cantidad de Mb's                                                                          |
| DEPARTAMENTO_CDR   | Categória Nominal     | LIMA, HUÁNUCO, PIURA, etc.    | Departamento en el cuál se consumió mayor cantidad de minutos en llamadas                                                           |
| AIRTIME_IN_TOT     | Cuantitativa Continua | Número positivo               | Tiempo total llamadas recibidas durante el periodo, en minutos                                                                      |
| AIRTIME_IN_WEEK    | Cuantitativa Continua | Número Positivo               | Tiempo semanal de llamadas recibidas durante el periodo en minutos                                                                  |
| CALLS_IN_TOT       | Cuantitativa Discreta | Número entero y positivo      | Cantidad de llamadas recibidas durante el periodo                                                                                   |
| CALLS_IN_WEEK      | Cuantitativa Discreta | Número entero y positivo      | Cantidad de llamadas recibidas durante la semana                                                                                    |
| DAYS_IN_VOICE_TOT  | Cuantitativa Discreta | Número entero y positivo      | Cantidad de días que recibieron llamadas durante el periodo                                                                         |
| AIRTIME_OUT_TOT    | Cuantitativa Continua | Número positivo               | Tiempo total llamadas realizadas durante el periodo, en minutos                                                                     |
| CALLS_OUT_TOT      | Cuantitativa Discreta | Número entero y positivo      | Cantidad de llamadas realizadas durante el periodo                                                                                  |
| DAYS_OUT_VOICE_TOT | Cuantitativa Discreta | Número entero y positivo      | Cantidad de días que realizó llamadas durante el periodo                                                                            |
| AIRTIME_IN_WEEK    | Cuantitativa Continua | Número positivo               | Tiempo total de llamadas recibidas de Lunes a Viernes durante el periodo, en minutos                                                |
| AIRTIME_IN_WEEKD   | Cuantitativa Continua | Número positivo               | Tiempo total de llamadas recibidas de Sábado a Domingo durante el periodo, en minutos                                               |
| CALLS_IN_WEEK      | Cuantitativa Discreta | Número entero y positivo      | Cantidad de llamadas recibidas de Lunes a Viernes durante el periodo                                                                |
| CALLS_IN_WEEKD     | Cuantitativa Discreta | Número entero y positivo      | Cantidad de llamadas recibidas de Sábado a Domingo durante el periodo                                                               |
| ORIG_VOICE_TOT     | Cuantitativa Discreta | Número entero y positivo      | Contactos totales de los que recibió alguna llamada durante el periodo                                                              |
| DAYS_IN_VOICE_TOT  | Cuantitativa Discreta | Número entero y positivo      | Cantidad de días que recibieron llamadas durante el periodo                                                                         |
| AIRTIME_OUT_WEEK   | Cuantitativa Continua | Número positivo               | Tiempo total de llamadas realizadas de Lunes a Viernes durante el periodo, en minutos                                               |
| AIRTIME_OUT_WEEKD  | Cuantitativa Continua | Número positivo               | Tiempo total de llamadas realizadas de Sábado a Domingo durante el periodo, en minutos                                              |
| CALLS_OUT_WEEK     | Cuantitativa Discreta | Número entero y positivo      | Cantidad de llamadas realizadas de Lunes a Viernes durante el periodo                                                               |
| CALLS_OUT_WEEKD    | Cuantitativa Discreta | Número entero y positivo      | Cantidad de llamadas realizadas de Sábado a Domingo durante el periodo                                                              |
| DEST_VOICE         | Cuantitativa Discreta | Número entero y positivo      | Contactos totales a los que llamó durante el periodo                                                                                |
| CONT_TOT           | Cuantitativa Discreta | Número entero y positivo      | Contactos totales con los que realizó un evento (llamada entrante / saliente o mensaje de texto saliente) durante el periodo        |
| TOP_CONT_5         | Cuantitativa Discreta | Número entero y positivo      | Contactos totales con los que realizó más de 5 eventos (llamada entrante / saliente o mensaje de texto saliente) durante el periodo |
:::

## [**Política de Limpieza de Datos**]{style="color:#1FB0DB"}


# **Análisis Descriptivo**

## **Carga de la base de datos**

```{r}
DF <- read_csv("DataLimpia.csv"
               , col_types = cols(.default = col_guess()
                                  , CHIP=col_factor(levels = c("2G","3G","4G"))
                                  , PERIODO=col_date(format = "%Y%m")
                                  )
               )
```

## **Descriptores Numéricos**

## **ANALISIS DESCRIPTIVO:**

### **OBJETIVO 1:** Analizar la relación entre el equipo y el tráfico de datos de los usuarios por periodo.

Grafico 1

```{r}
ggplot(DF,aes(x=PERIODO,y=DATOS_TOTAL,fill=CHIP))+
  geom_col(position="dodge")+
  ggtitle("TRAFICO DE DATOS TOTAL Y TECNOLOGIA DEL CHIP")+
  theme(plot.title = element_text(hjust = 0.5)) +
  labs(fill="TECNOLOGIA DEL CHIP", x="terrible", y="TRAFICO DE DATO(Mb)")+
  theme(axis.text = element_text(angle = 90))
```

**Analisis del gráfico:**

En el gráfico que representa el tráfico de datos en función del periodo, se evidencia una variación significativa en el año 2019, especialmente en el mes de febrero. En este mes, la tecnología 4G, medida en notación científica como 6e+05, mostró una preferencia notable en comparación con el 3G y un uso prácticamente nulo en la tecnología 2G, que registró un tráfico de datos de 0e+00.

Luego, en marzo del mismo año, se observa una disminución de casi el 50% en la utilización de la tecnología 4G, acompañada de un aumento en la tecnología 2G, mientras que el uso de la tecnología 3G se mantiene constante.

En abril, los niveles se mantienen estables tanto en términos de tecnología de chips como en tráfico de datos con respecto a marzo.

En mayo, se aprecia un crecimiento en la adopción de la tecnología 4G, mientras que se registra una ligera disminución en el uso de las tecnologías 2G y 3G. Este cambio podría estar relacionado con una mayor cobertura de red y la adopción de nuevas tendencias para mejorar los servicios de los usuarios en diferentes regiones, tanto en Perú como en otras partes del mundo.

**Gráfico 2: Trafico total de datos y tipo de sistema operativo por periodo**

```{r}
ggplot(DF,aes(x=PERIODO,y=DATOS_TOTAL,fill=OS),xlabel=)+geom_col(position="dodge")+ggtitle("TRAFICO DE DATOS Y SISTEMA OPERATIVO") + theme(plot.title = element_text(hjust = 0.5)) +ylab("TRAFICO DE DATO(Mb)")+labs(fill="SISTEMA OPERATIVO")+theme(axis.text = element_text(angle = 90))
```

**Anasilis del gráfico:**

Al analizar la relación entre el tráfico de datos y el periodo de tiempo, se evidencia una disparidad considerable en el año 2019 entre las barras de color rosa, que corresponden a dispositivos con sistema operativo Android, y las barras de Apple, que son significativamente más altas. También se observa un nivel muy bajo de tráfico asociado a otros sistemas operativos y la categoría "sin sistema operativo". En los meses de marzo, abril y mayo, se observa una marcada disminución en el tráfico de datos de dispositivos Apple. Sin embargo, se nota que los niveles de tráfico de datos de dispositivos Android se mantienen constantes en marzo y abril de 2019, experimentando un aumento significativo en mayo de ese año. Esto sugiere una tendencia a la estabilidad en la adopción de sistemas operativos "otros" y la presencia de dispositivos "sin sistema operativo".

**Grafico 3: Boxplot del trafico de datos 2g**

```{r}
# Crear un boxplot estándar
boxplot(DF$DATOS_2G, horizontal = T, col = "green",
        main = "Boxplot del trafico de datos 2g")

# Crear un boxplot visible 
boxplot(DF$DATOS_2G, horizontal = T, col = "green",
        main = "Boxplot del trafico de datos 2g",
        notch = TRUE, outline = F)

axis(side = 1, at =c(0, 3, 1200))

```

**Grafico 4: Boxplot del trafico de datos 3g**

```{r}
# Crear un boxplot estándar
boxplot(DF$DATOS_3G, horizontal = T, col = "pink",
        main = "Boxplot del trafico de datos 3g")

boxplot(DF$DATOS_3G, horizontal = T, col = "pink",
        main = "Boxplot del trafico de datos 3g",
        notch = TRUE, outline = F)
```

**Grafico 5:Boxplot del trafico de datos 4g**

```{r}
# Crear un boxplot estándar
boxplot(DF$DATOS_4G, horizontal = T, col = "lightblue",
        main = "Boxplot del trafico de datos 4g")

boxplot(DF$DATOS_4G, horizontal = T, col = "lightblue",
        main = "Boxplot del trafico de datos 4g",
        notch = TRUE, outline = F)



```

**Descriptores númericos:**

```{r}
print("Descriptores numéricos del trafico de datos 2G")
summary(DF$DATOS_2G)
print("Descriptores numéricos del trafico de datos 3G")
summary(DF$DATOS_3G)
print("Descriptores numéricos del trafico de datos 4G")
summary(DF$DATOS_4G)
```

En el caso del tráfico de datos 2G, la mediana de 0.326 Mb significa que la mitad de los usuarios consumió 0.326 Mb o menos, y el tercer cuartil de 2.220 Mb indica que el 75% de los usuarios utilizó 2.220 Mb o menos, mientras que el primer cuartil de 0.009 Mb indica que el 25% de los usuarios consumió 0.009 Mb o menos.

En el caso del tráfico de datos 3G, la mediana de 120.89 Mb significa que la mitad de los usuarios consumió 120.89 Mb o menos, y el tercer cuartil de 367.70 Mb indica que el 75% de los usuarios utilizó 367.70 Mb o menos, mientras que el primer cuartil de 36.95 Mb indica que el 25% de los usuarios consumió 36.95 Mb o menos.

En el caso del tráfico de datos 4G, la mediana de 6354 Mb significa que la mitad de los usuarios consumió 6354 Mb o menos, y el tercer cuartil de 12964 Mb indica que el 75% de los usuarios utilizó 12964 Mb o menos, mientras que el primer cuartil de 2173 Mb indica que el 25% de los usuarios consumió 2173 Mb o menos.

### **OBJETIVO 2:** Analizar la duración y la cantidad de llamadas entrantes de un usuario.

**Gráfico 6: Gráfica de dispersión de cantidad vs tiempo total de llamadas entrantes por usuario**

```{r}
ggplot(DF, aes(x = DF$CALLS_IN_TOT, y = DF$AIRTIME_IN_TOT)) +
  geom_point(shape = 16, color = "pink") +
  geom_smooth(method = "lm", se = FALSE, color = "red") +
  labs(x = "Cantidad de llamadas", y = "Tiempo en total",
       title = "Llamadas entrantes: Cantidad vs tiempo")

```

**Analisis del gráfico:**

**Línea Vertical:** Tiempo total de llamadas recibidas durante el periodo, en minutos

**Línea Horizontal:** Cantidad total de llamadas recibidas durante el periodo

**Línea Diagonal:** Representa la relación cantidad y tiempo, y nos permite predecir el tiempo de llamadas recibidas con la cantidad de llamadas recibidas

**Punto en el gráfico:** Representa a cada usuario del servicio telefónico

**Puntos sobre la diagonal:** Representa a los usuarios con una menor cantidad de llamadas a comparación del tiempo total de llamadas recibidas, lo que indica aproximadamente una mayor duración de cada una de estas .

**Puntos debajo de la diagonal:** Representa a los usuarios con una mayor cantidad de llamadas a comparación del tiempo total de llamadas recibidas, lo que indica aproximadamente una menor duración de cada una de estas.

**Puntos en zona superior derecha del gráfico:** Representa a los usuarios con una mayor cantidad de llamadas y de mayor duración en total

**Puntos en zona inferior izquierda del gráfico:** Representa a los usuarios con una menor cantidad de llamadas y de menor duración en total

**Regresión lineal:**

```{r}
lm(DF$AIRTIME_IN_TOT~DF$CALLS_IN_TOT,data=DF)
```

**Ecuación de regresión:**

$$
y = 1.589x + 107.891
$$

La ecuación de regresión lineal y = 1.589x + 107.891 modela una relación lineal positiva entre la cantidad de llamadas entrantes por usuario (y) y el tiempo total de llamadas entrantes registrado por usuario (x). El coeficiente 1.589 indica que, en promedio, por cada unidad adicional de tiempo total, se esperan 1.589 llamadas entrantes adicionales. El término constante 107.891 representa el valor inicial de llamadas cuando el tiempo total es cero. Esta ecuación proporciona una herramienta para predecir la cantidad de llamadas entrantes en función del tiempo total y entender su relación en un contexto de análisis de datos.

**Gráfico 7: Histograma de cantidad de días en los que recibieron llamadas :**

```{r}
hist(DF$DAYS_IN_VOICE_TOT,breaks= 6, col = "lightblue", xlab = "Dias", ylab = "Clientes", main = "Cantidad de dias en los que recibieron llamadas")
# Agregar la media y la mediana al histograma
abline(v = mean(DF$DAYS_IN_VOICE_TOT), col="blue")
abline(v = median(DF$DAYS_IN_VOICE_TOT), col="red")

# Añadir leyenda
legend("topright", legend = c("Media", "Mediana"), col = c("blue", "red"), lty = 1)
```

El histograma representa la distribución de la cantidad de días en los que los clientes recibieron llamadas, abarcando un rango de 0 a 31 días. Esto significa que hay clientes que no recibieron llamadas en absoluto, mientras que otros fueron contactados todos los días del mes. Se destaca un grupo particular en el intervalo de 25 a 30 días, lo que indica un conjunto de clientes que recibieron llamadas de manera consistente durante la mayoría de los días. Además, la diferencia entre la media y la mediana sugiere una posible asimetría en la distribución, con una inclinación hacia el lado izquierdo.

**Descriptores:**

```{r}
print("Descriptores numéricos de la cantidad de días en los que recibieron llamadas")
summary(DF$DAYS_IN_VOICE_TOT)

```

Los valores incluyen el mínimo de 0 días, lo que indica que al menos un cliente no recibió llamadas en ningún día, un primer cuartil de 24, lo que significa que el 25% de los clientes recibieron llamadas en 24 días o menos, una mediana de 28, que representa el valor medio de los días de recepción de llamadas, una media de 25.56, que es el promedio de la cantidad de días en que los clientes recibieron llamadas, un tercer cuartil de 30, indicando que el 75% de los clientes recibieron llamadas en 30 días o menos, y un máximo de 31, lo que implica que al menos un cliente recibió llamadas durante todos los días del período considerado. En resumen, esta información proporciona una visión general de la distribución de la frecuencia de las llamadas entre los clientes, desde aquellos que no recibieron llamadas en absoluto hasta aquellos que lo hicieron durante la mayoría de los días.

**Grafico 8:Comparación del tiempo llamadas entrantes de días laborables y no laborales:**

```{r}
# Calculamos el promedio del tiempo total de llamadas en días laborables y no laborables
promedio_tiempo_week <- mean(DF$AIRTIME_IN_WEEK)
promedio_tiempo_weekd <- mean(DF$AIRTIME_IN_WEEKD)

# Creamos un gráfico de barras para comparar el tiempo total de llamadas en días laborables y no laborables
bar_heights <- c(promedio_tiempo_week, promedio_tiempo_weekd)
bar_names <- c("Días Laborables", "Días No Laborables")
bar_colors <- c("lightblue", "lightcoral")

barplot(bar_heights, 
        names.arg = bar_names,
        main = "Promedio del duración Total de Llamadas recibidas",
        xlab= "Tipo de día",
        ylab = "Duración",
        col = bar_colors)

# Agregamos etiquetas de porcentaje a las barras
porcentajes <- c(round((promedio_tiempo_week / sum(bar_heights)) * 100, 2),
                 round((promedio_tiempo_weekd / sum(bar_heights)) * 100, 2))


# Imprimimos el promedio del tiempo total de llamadas en días laborables y no laborables
cat("Promedio del Tiempo Total de Llamadas realizadas en Días Laborables:", promedio_tiempo_week, "\n")
cat("Promedio del Tiempo Total de Llamadas realizadas en Días No Laborables:", promedio_tiempo_weekd, "\n")

# Creamos una leyenda con porcentajes
legend(x = 1.2,  # Ajustar la posición x
       y = max(bar_heights) - 2,  # Ajustar la posición y
       legend = paste0(bar_names, "   ", porcentajes, "%"), 
       fill = bar_colors,
       cex = 1)
```

### **OBJETIVO 3: Analizar la duración y la cantidad de llamadas salientes de un usuario.**

**Grafico 9: Gráfica de dispersión de cantidad vs tiempo total de llamadas salientes por usuario**

```{r}
ggplot(DF, aes(x = DF$CALLS_OUT_TOT, y = DF$AIRTIME_OUT_TOT)) +
  geom_point(shape = 16, color = "pink") +
  geom_smooth(method = "lm", se = FALSE, color = "red") +
  labs(x = "Cantidad de llamadas", y = "Tiempo en total",
       title = "Llamadas salientes : Cantidad vs tiempo")
```

**Analisis del gráfico:**

**Línea Vertical:** Tiempo total de llamadas realizadas durante el periodo, en minutos

**Línea Horizontal:** Cantidad total de llamadas realizadas durante el periodo

**Línea Diagonal:** Representa la relación cantidad y duración de llamadas realizadas , y nos permite predecir el tiempo de llamadas recibidas con la cantidad de llamadas realizadas.

**Punto en el gráfico:** Representa a cada usuario del servicio telefónico

**Puntos sobre la diagonal:** Representa a los usuarios con una menor cantidad de llamadas a comparación del tiempo total de llamadas recibidas, lo que indica aproximadamente una mayor duración de cada una de estas .

**Puntos debajo de la diagonal:** Representa a los usuarios con una mayor cantidad de llamadas a comparación del tiempo total de llamadas recibidas, lo que indica aproximadamente una menor duración de cada una de estas.

**Puntos en zona superior derecha del gráfico:** Representa a los usuarios con una mayor cantidad de llamadas y de mayor duración en total

**Puntos en zona inferior izquierda del gráfico:** Representa a los usuarios con una menor cantidad de llamadas y de menor duración en total

**Regresión lineal:**

```{r}
lm(DF$AIRTIME_OUT_TOT~DF$CALLS_OUT_TOT,data=DF)
```

**Ecuación de regresión:**

$$ y = 1.863x + 112.272 $$

La ecuación de regresión lineal y = 1.863x + 112.272 modela una relación lineal positiva entre el número de llamadas realizadas por usuario (y) y la duración total de las llamadas (x) registradas por usuario. El coeficiente 1.863 indica que, en promedio, por cada unidad adicional de duración de llamadas, se esperan 1.863 llamadas realizadas adicionales. El término constante 112.272 representa el valor inicial de llamadas realizadas cuando la duración total es cero. En resumen, esta ecuación proporciona una herramienta para predecir la cantidad de llamadas realizadas en función de la duración total de las llamadas y entender su relación en un contexto de análisis de datos.

**Gráfico 10: Histograma de cantidad de días que se realizaron llamadas :**

```{r}
hist(DF$DAYS_OUT_VOICE_TOT,breaks= 6, col = "lightblue", xlab = "Clientes", ylab = "Frecuencia", main = "Cantidad de dias en los que realizaron llamadas")
# Agregar la media y la mediana al histograma
abline(v = mean(DF$DAYS_IN_VOICE_TOT), col="blue")
abline(v = median(DF$DAYS_IN_VOICE_TOT), col="red")

# Añadir leyenda
legend("topright", legend = c("Media", "Mediana"), col = c("blue", "red"), lty = 1)
```

**Analisis:**

El histograma representa la distribución de la cantidad de días en los que los clientes realizaron llamadas, abarcando un rango de 0 a 31 días. Esto significa que hay clientes que no realizaron llamadas en absoluto, mientras que otros realizaron llamadas todos los días del mes. Se destaca un grupo particular en el intervalo de 25 a 30 días, lo que indica un conjunto de clientes que realizaron llamadas de manera consistente durante la mayoría de los días. Además, la diferencia entre la media y la mediana sugiere una posible asimetría en la distribución, con una inclinación hacia el lado izquierdo.

**Descriptores:**

```{r}
print("Descriptores numéricos de los días en la que los clientes recibieron llamadas ")
summary(DF$DAYS_OUT_VOICE_TOT)
```

Los valores incluyen el mínimo de 0 días, lo que indica que al menos un cliente no recibió llamadas en ningún día, un primer cuartil de 24 días, lo que significa que el 25% de los clientes recibieron llamadas en 24 días o menos, una mediana de 28 días, que es el valor central de la distribución, una media de 25.69 días, que es el promedio de días de recepción de llamadas, un tercer cuartil de 30 días, indicando que el 75% de los clientes recibieron llamadas en 30 días o menos, y un máximo de 31 días, lo que implica que al menos un cliente recibió llamadas todos los días. En resumen, esta información proporciona una visión general de la distribución de la frecuencia de las llamadas entre los clientes, desde aquellos que no recibieron llamadas en absoluto hasta aquellos que lo hicieron durante la mayoría de los días.

**Grafico 11:Comparación del tiempo llamadas salientes en días laborables y no laborales :**

```{r}
# Calculamos el promedio del tiempo total de llamadas en días laborables y no laborables
promedio_tiempo_week <- mean(DF$AIRTIME_OUT_WEEK)
promedio_tiempo_weekd <- mean(DF$AIRTIME_OUT_WEEKD)

# Creamos un gráfico de barras para comparar el tiempo total de llamadas en días laborables y no laborables
bar_heights <- c(promedio_tiempo_week, promedio_tiempo_weekd)
bar_names <- c("Días Laborables", "Días No Laborables")
bar_colors <- c("lightblue", "lightcoral")

barplot(bar_heights, 
        names.arg = bar_names,
        main = "Promedio del duración Total de Llamadas realizadas",
        xlab= "Tipo de día",
        ylab = "Duración",
        col = bar_colors)

# Agregamos etiquetas de porcentaje a las barras
porcentajes <- c(round((promedio_tiempo_week / sum(bar_heights)) * 100, 2),
                 round((promedio_tiempo_weekd / sum(bar_heights)) * 100, 2))


# Imprimimos el promedio del tiempo total de llamadas en días laborables y no laborables
cat("Promedio del Tiempo Total de Llamadas recibidas en Días Laborables:", promedio_tiempo_week, "\n")
cat("Promedio del Tiempo Total de Llamadas recibidas en Días No Laborables:", promedio_tiempo_weekd, "\n")

# Creamos una leyenda con porcentajes
legend(x = 1.18,  # Ajustar la posición x
       y = max(bar_heights) - 3,  # Ajustar la posición y
       legend = paste0(bar_names, "   ", porcentajes, "%"), 
       fill = bar_colors,
       cex = 1)
```





### **Objetivo 4:** Identificar que plan de telefonía resulta conveniente y el público de este.

**Gráfico 12: Tiempo de duración de llamadas salientes por sistema operativo por periodo**.

```{r}
ggplot(DF,aes(x=PERIODO,y=AIRTIME_OUT_TOT,fill=OS),xlabel=)+geom_col(position="dodge")+ggtitle("DURACIÓN DE LLAMADAS Y SISTEMA OPERATIVO") + theme(plot.title = element_text(hjust = 0.5)) +ylab("N° Llamadas")+labs(fill="SISTEMA OPERATIVO")+theme(axis.text = element_text(angle = 90))
```

**Analisis:**

Al analizar la relación entre la duración de llamadas salientes y el periodo de tiempo, se evidencia una disparidad considerable en el año 2019 entre las barras de color rosa, que corresponden a dispositivos con sistema operativo Android. Esto significa que el principal publico al que debería de estar destinado este plan debería de ser Android, ya que son los que pasan más tiempo hablando por teléfono.

**Graficio 14: Cantidad de llamadas salientes por sistema operativo por periodo**.

```{r}
ggplot(DF,aes(x=PERIODO,y=CALLS_OUT_TOT,fill=OS),xlabel=)+geom_col(position="dodge")+ggtitle("LLAMADAS SALIENTES Y SISTEMA OPERATIVO") + theme(plot.title = element_text(hjust = 0.5)) +ylab("N° Llamadas")+labs(fill="SISTEMA OPERATIVO")+theme(axis.text = element_text(angle = 90))
```

**Analisis:**

Al analizar la relación entre el numero de llamadas salientes y el periodo de tiempo, se evidencia una disparidad considerable en el año 2019 entre las barras de color rosa, que corresponden a dispositivos con sistema operativo Android. Esto significa que el principal publico al que debería de estar destinado este plan debería de ser android, ya que son los que realizan más llamadas.

```{r}
mosaicplot(table(DF$OS,DF$CHIP), col = c("green", "skyblue","red"),cex.axis = 0.6,main="Tabla de chip vs sistema operativo")
```

**Analisis del gráfico:**

En este grafico se muestra que la mayoría de clientes Android, sin tac y IOS poseen un chip 4G. Mientras que la mayoría de clientes de otro sistema operativo poseen un chip 2G. Asimismo por gráficos anteriores sabemos que o




```{=html}
<script>
function toggleContent() {
  var content = document.querySelector(".toggle-content");
  if (content.style.display === "none" || content.style.display === "") {
    content.style.display = "block";
  } else {
    content.style.display = "none";
  }
}
</script>
```